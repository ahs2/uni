<% logo_url = current_university.present? ? current_university.decorate.logo_url : 'logo.png' %>

<div class="block bg-white">
  <div class="lg:flex lg:flex-wrap g-0 min-h-screen">
    <div
      class="relative hidden lg:w-6/12 lg:flex items-end lg:rounded-r-lg rounded-b-lg lg:rounded-bl-none rounded-lg bg-center bg-cover"
      style="background-image: url(<%= image_url('bg.jpg') %>)"
    >
      <div class="absolute top-0 left-0 w-full h-full flex flex-col bg-black opacity-60">
      </div>
      <div class="px-4 py-6 md:p-12 md:mx-6 z-50">
        <h4 class="text-4xl font-semibold mb-4 text-white leading-normal max-w-[32rem]">
          Si vous disposez déjà dun compte, veuillez cliquer sur << se connecter>> pour accéder à votre espace personnel
        </h4>
        <div class="mb-6">
          <span class="border border-4 border-white w-20 inline-block rounded mr-2"></span>
          <span class="border border-4 border-slate-500 w-20 inline-block rounded"></span>
        </div>
      </div>
    </div>

    <div class="lg:w-6/12 px-4 md:px-0 overflow-x-auto h-screen	">
      <div class="max-w-md w-full min-h-screen flex items-center justify-center flex-col mx-auto">
        <div class="text-center w-full">
          <a class="block m-0 text-sm whitespace-nowrap text-slate-700 text-center" href="<%= root_path %>">
            <%= image_tag "#{ logo_url }", class: 'inline h-full max-w-full transition-all duration-200 ease-nav-brand max-h-24', alt: 'main_logo' %>
          </a>

          <div class="md:flex md:flex-wrap text-center pb-8 pt-10">
            <div class="w-full md:w-6/12 md:pr-0.5">
              <a class="block m-0 text-sm whitespace-nowrap w-full text-slate-400" href="<%= new_user_session_path %>">
                Se connecter
                <div class="border border-1 border-slate-300 mt-3 w-full"></div>
              </a>
            </div>
            <div class="w-full md:w-6/12">
              <a class="block m-0 text-sm whitespace-nowrap w-full active-border text-blue-500 dark:text-blue-300" href="<%= new_user_registration_path %>">
                S'inscrire
                <div class="border border-1 border-slate-300 mt-3 w-full"></div>
              </a>
            </div>
          </div>
          <h4 class="text-xl font-semibold mt-1 mb-6 pb-1">Création du compte</h4>
        </div>

        <%= render "users/shared/error_messages" %>
                
        <%= form_for(resource, as: resource_name, url: auth_register_path) do |f| %>
          <div class="mb-4">
            <%= f.label :email, 'Email', class: 'text-sm text-slate-600 text-semibold dark:text-slate-400' %>
            <%= f.email_field :email, autofocus: true, class: "bg-gray-200 appearance-none border-1 border-gray-200 rounded-lg w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-300" %>
          </div>

          <div class="mb-4">
            <%= f.label :phone, 'Numéro de téléphone', class: 'text-sm text-slate-600 text-semibold dark:text-slate-400' %>
            <%= f.text_field :phone, autofocus: true, class: "bg-gray-200 appearance-none border-1 border-gray-200 rounded-lg w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-300" %>
          </div>
                  
          <div class="mb-4">
            <%= f.label :password, 'Mot de passe', class: 'text-sm text-slate-600 text-semibold dark:text-slate-400' %>
            <% if @minimum_password_length %>
            <em>(<%= @minimum_password_length %> characters minimum)</em>
            <% end %><br />
            <%= f.password_field :password, class: "bg-gray-200 appearance-none border-1 border-gray-200 rounded-lg w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-300" %>
          </div>

          <div class="mb-4">
            <%= f.label :password_confirmation, 'Confirmer le mot de passe', class: 'text-sm text-slate-600 text-semibold dark:text-slate-400' %>
            <%= f.password_field :password_confirmation, class: "bg-gray-200 appearance-none border-1 border-gray-200 rounded-lg w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-300" %>
          </div>

          <div class="has-text-right form-submit mb-4">
            <%= f.hidden_field :university_id, value: current_university.id %>
            <%= f.submit "Continuer", class: 'w-full py-2 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer' %>
          </div>

          <div class="md:flex md:flex-wrap mb-4">
            <% if devise_mapping.rememberable? -%>
              <div class="w-full md:w-6/12 p-0.5">
                <div class="flex items-center">
                  <%= f.check_box :remember_me, class: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-slate-300 rounded" %>
                  <%= f.label :remember_me, "Se souvenir de moi", class: "ml-2 block text-slate-900 text-xs" %>
                </div>
              </div>
            <% end -%>
            
            <div class="w-full md:w-6/12 p-0.5 md:text-right">
              <a class="text-blue-600 text-semibold text-sm" href="#">Mot de passe oublié ?</a>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
